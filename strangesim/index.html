<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Strange Attractors</title>
    <link rel="stylesheet" href="style.css" />
    <script src="libraries/p5.js"></script>
    <!-- <script src="/socket.io/socket.io.js"></script> -->
    <!-- <script src="libraries/p5.sound.js"></script> -->
    <script src="sketch.js"></script>
    <script src="Particle.js"></script>
    <script src="attractors.js"></script>

    <style>
        body {
            margin: 0;
            padding: 0;
            z-index: 1;
        }

        canvas {
            z-index: 1;
        }
    </style>
</head>

<body>
    <div class="nav-trigger">How to Use</div>
    <div class="nav-instructions">
        <ul>
            <li>Use the sliders to mess around with the variables and see how the particles change behavior</li>
            <li><strong>dx/dt</strong> effects the x axis per dt(time step)</li>
            <li><strong>dy/dt</strong> effects the y axis per dt(time step)</li>
            <li><strong>dz/dt</strong> effects the z axis per dt(time step)</li>
            <li>Use the left click to move the simulation around to view </li>
            <li>Use the right click to zoom in and out </li>
            <li><strong>Spacebar:</strong> Pause/Resume the simulation.</li>
            <li><strong>Z:</strong> Show/hide details.</li>
            <li><strong>X:</strong> Toggle rotation speed.</li>
            <li><strong>S:</strong> Take a screenshot.</li>
            <li><strong>Enter:</strong> Change to a random attractor.</li>
            <li><strong>Backspace:</strong> Clear all particles.</li>
            <li><strong>Alt:</strong> Add more particles.</li>
        </ul>
    </div>

    <nav class="navbar">
        <ul class="navbar-nav">
            <li id="pause-play" class="logo dropdown">
                <!-- <a href="#" class="home-link link">
                    <svg id="pause-icon" class="" height="1em" viewBox="0 0 320 512"></svg>
                    <svg id="play-icon" class="hidden" height="1em" viewBox="0 0 384 512"></svg>
                    <span id="pause-text" class="link-text">Pause</span>
                </a> -->
            </li>
            <li id="display-details" class="logo dropdown">
                <!-- <a href="#" class="home-link link">
                    <span id="show-hide" class="link-text">Hide</span><span class="link-text">Info</span>
                </a> -->
            </li>
            <li id="spin" class="logo dropdown">
                <!-- <a href="#" class="home-link link">
                    <svg class="spinner" id="spinner" height="1em" viewBox="0 0 512 512"></svg>
                    <span id="spin-text" class="link-text">No Spin</span>
                </a> -->
            </li>
        </ul>
    </nav>
    <button class="nav-toggle" onclick="toggleNav()">&lt;</button>

    <div class="card">
        <div class="name">
            <h2 id="attractor-name"></h2>
        </div>
        <div class="equ">
            <hr>
            <ul class="equ-list">
                <li id="dx"></li>
                <li id="dy"></li>
                <li id="dz"></li>
            </ul>
        </div>
        <div class="para">
            <hr>
            <div class="para-list">
            </div>
        </div>
        <div>
            <hr>
            <div class="color-picker">
                <div id="add-button" class="particle-button">+ Particle</div>
                <div id="remove-button" class="particle-button">- Particle</div>
            </div>
        </div>
    </div>
    </div>
    <div id="holder"></div>



</body>
<script>

    // document.addEventListener('DOMContentLoaded', function () {
    //     // Open control panel window
    //     var controlPanelWindow = window.open("control_panel.html", "Control Panel", "width=400,height=600");

    //     // Function to toggle navigation visibility in control panel window
    //     document.getElementById('toggle-nav').addEventListener('click', function () {
    //         // If control panel window exists, toggle navbar visibility
    //         if (controlPanelWindow && !controlPanelWindow.closed) {
    //             const navbar = controlPanelWindow.document.querySelector('.navbar');
    //             navbar.classList.toggle('hidden');

    //             // Toggle button text
    //             const toggleBtn = controlPanelWindow.document.getElementById('toggle-nav');
    //             toggleBtn.textContent = navbar.classList.contains('hidden') ? '>' : '<';
    //         }
    //     });
    // });
    document.addEventListener('DOMContentLoaded', function () {
        const trigger = document.querySelector('.nav-trigger');
        const instructions = document.querySelector('.nav-instructions');

        trigger.addEventListener('mouseenter', function () {
            instructions.classList.add('show');
        });

        trigger.addEventListener('mouseleave', function () {
            instructions.classList.remove('show');
        });
    });



    document.addEventListener('DOMContentLoaded', function () {
        const pausePlay = document.getElementById('pause-play');
        const displayDetails = document.getElementById('display-details');
        const spin = document.getElementById('spin');

        // Hide the elements by adding the 'hidden' class
        pausePlay.classList.add('hidden');
        displayDetails.classList.add('hidden');
        spin.classList.add('hidden');
        document.getElementById('toggle-nav').addEventListener('click', function () {
            const navbar = document.querySelector('.navbar');
            const toggleBtn = this;
            navbar.classList.toggle('hidden');

            if (navbar.classList.contains('hidden')) {
                toggleBtn.textContent = '>';
            } else {
                toggleBtn.textContent = '<';
            }
        });


    });

</script>

</html>